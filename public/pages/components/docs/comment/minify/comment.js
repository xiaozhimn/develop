use(["public/widget/prompt/prompt.js"],function(){var t={};Vue.component("commentComponent",{pageName:"docs",template:"public/pages/components/docs/comment/comment.html",data:function(){return{isThumbUp:!1,articalId:0,curUserName:""}},props:["pageComment"],created:function(){},mounted:function(){this.$nextTick(function(){var e=window.wangEditor;t=new e("#comment-area"),t.create(),this.articalId=this.GetUrlParam("id"),this.curUserName=cookie.get("fullName")})},filters:{utcToLocal:function(t){return new Date(t).toLocaleString()}},methods:{GetUrlParam:function(t){var e=document.location.toString(),r=e.split("?");if(r.length>1){for(var a,n=r[1].split("&"),o=0;o<n.length;o++)if(null!=(a=n[o].split("="))&&a[0]==t)return a[1];return""}return""},getContent:function(){return t.txt.html()},comment:function(){var e=(new Date).format("yyyy-MM-dd hh:mm:ss");if(""!=this.getContent().replace(/<.*?>/gi,"").replace(/[ ]|[&nbsp;]/g,"")){var r={urlParams:{articalId:this.articalId,content:this.getContent()}},a=this;docsService.comment(r,function(r){0==r.errorCode?(a.pageComment.list.push({id:r.data.id,username:a.curUserName,comment_content:a.getContent(),create_time:e,replerList:[]}),t.txt.html("<p></p>")):prompts.init("warnning",r.msg)})}},praise:function(){var t=this,e={urlParams:{articalId:this.articalId}};docsService.thumbUpForArtical(e,function(e){0!=e.errorCode?prompts.init("warnning",e.msg):t.pageComment.thumUpCount++})},showLeftWord:function(t){t.authorReplayDetail.length<=500?t.leftWord=500-t.authorReplayDetail.length:t.authorReplayDetail=t.authorReplayDetail.substr(0,500)},authorReplay:function(t){void 0===t.authorReplayComment?Vue.set(t,"authorReplayComment",!0):t.authorReplayComment=!0,void 0===t.authorReplayDetail?Vue.set(t,"authorReplayDetail",""):t.authorReplayDetail="",void 0===t.leftWord?Vue.set(t,"leftWord",500):t.leftWord=500},authorReplaySummit:function(t){if(t.authorReplayDetail.trim()){var e={urlParams:{commentId:t.id,content:t.authorReplayDetail}},r=this,a=(new Date).format("yyyy-MM-dd hh:mm:ss");docsService.replyCommenter(e,function(e){0!=e.errorCode?prompts.init("warnning",e.msg):(t.authorReplayComment=!1,t.replerList.push({id:t.id,username:r.curUserName,create_time:a,content:t.authorReplayDetail}))})}}}})});