window.flux={ev:[],subscribe:function(t,i){for(e in this.ev)if(e==i)return;if(t.$parent.state)for(var e in t.$parent.state)t[e]=t.$parent.state[e];this.ev[i]=t},dispatch:function(t,i){for(var e in this.ev){var s=this.ev[e].$parent?this.ev[e].$parent:this.ev[e],a=s.actions;a&&a[t]&&a[t].call(this.ev[e],i)}},call:function(t,i){this.ev[t]&&(arguments=[].slice.call(arguments,0),arguments.splice(0,2),this.ev[t][i].apply(this.ev[t],arguments))}};